<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>蜗牛博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="蜗牛博客，三根K线改三观！"> 
  {% load static %}
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"> 
  <link rel="stylesheet" href="{% static 'css/pure-min.css' %}">
  <link rel="stylesheet" href="{% static 'css/grids-responsive-min.css' %}">
  <link rel="stylesheet" href="{% static 'css/blog.css' %}">
  <link rel="stylesheet" href="{% static 'css/monokai.css' %}"> 
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>

<ul class="menu">
    <li class="item"><a href="javascript:void(0)" id="baidu-search-button">百度搜索</a></li>
    <li class="item"><a href="javascript:void(0)" id="google-search-button">谷歌搜索</a></li>
    <li class="item non-index-item"><a href="javascript:void(0)" id="show-toc-button">显示目录</a></li>
</ul>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="{% static 'img/dog.png' %}" class="js-avatar" style="width: 100%;height: 100%;opacity: 1;">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/sitemap">蜗牛博客</a></h1>
		</hgroup>

		
		<p class="header-subtitle">三根K线改三观！</p>
		
		
			<nav class="nav">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a class="button-success pure-button" href="/">主页</a>
                    </li>
                    <li class="nav-item">
                        <a class="button-success pure-button" href="{% url 'archives' %}">归档</a>
                    </li>
                    <li class="nav-item">
                        <a class="pure-button" href="https://github.com/Andrew-liu/my_blog_tutorial">Github</a>
                    </li>
                    <li class="nav-item">
                        <a class="button-error pure-button" href="http://weibo.com/dinosaurliu">Weibo</a>
                    </li>
                    <li class="nav-item">
                        <a class="button-success pure-button" href="/">专题</a>
                    </li>
					 <li>
                    <form class="pure-form" action="/search/" method="get">
                    <input class="pure-input-3-3" type="text" name="s" placeholder="search">
                    </form>
                    </li>
                    <li class="nav-item">
                        <a class="button-success pure-button" href="{% url 'about_me' %}">About Me</a>
                    </li>
					<li class="nav-item">
                        <a class="button-success pure-button" href="{% url 'RSS' %}">RSS</a>  
                    </li>
                </ul>
            </nav>
	</header>
</div>

<script>
    $(document).ready(function() {
        // Baidu 搜索
        $('#baidu-search-button').click(function(event) {
            layer.prompt({title: false, formType: 0, closeBtn: 0, maxlength: 140}, function(text, index) {
                layer.close(index);
                window.open('https://www.baidu.com/s?wd=site:qtdebug.com+'+text);
            });
        });

        // Google 搜索
        $('#google-search-button').click(function(event) {
            layer.prompt({title: false, formType: 0, closeBtn: 0, maxlength: 140}, function(text, index) {
                layer.close(index);
                window.open('https://www.google.com/?#q=site:qtdebug.com+'+text);
            });
        });
    });
</script>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">公孙二狗</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img src="/img/dog.png" class="js-avatar" style="width: 100%;height: 100%;opacity: 1;">
			
			</div>
			<hgroup>
			  <h1 class="header-author">公孙二狗</h1>
			</hgroup>
			
			<p class="header-subtitle">大圣，此去欲何？踏南天，碎凌霄。若一去不回……？便一去不回！</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
  
    <!-- 生成目录 -->


<article id="post-fe-ztree-drag" class="article article-type-post" itemscope itemprop="blogPost">
  
     <div class="article-entry" itemprop="articleBody">
        {% block content %}
        {% endblock %}
	 </div>
  

</article>
  
    <!-- 生成目录 -->  
  
    <nav id="page-nav"> 
	
	    {% for pg  in post_list.paginator.page_range %}
			{% if post_list.number == pg %}
				<a class="page-number current" href="?page={{ pg }}">{{ pg }}</a>
			{% else %}
				<a class="page-number" href="?page={{ pg }}">{{ pg }}</a>
			{% endif %}
	    {% endfor %}
	
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy;
                2017
                    蜗牛博客
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> Modification
            </div>
        </div>
        <div class="visit">
            <span id="busuanzi_container_site_pv" style="display: inline;">
                <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i>
                    <span id="busuanzi_value_site_pv"></span>
                </span>
            </span>

            <span>| </span>

            <span id="busuanzi_container_page_pv" style="display: inline;">
                <span id="page-visit" title="本页阅读量"><i class="fa fa-eye" aria-hidden="true"></i>
                    <span id="busuanzi_value_page_pv"></span>
                </span>
            </span>
        </div>
    </div>
</footer>

    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: false,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="/js/main.js"></script>

<!-- 



 -->

<!--page counter part-->
<script>
function addCount(Counter) {
    url = $('.article-date').attr('href').trim();
    title = $('.article-title').text().trim();
    var query = new AV.Query(Counter);
    //use url as unique idnetfication
    query.equalTo("url", url);
    query.find({
        success: function(results){
            if(results.length > 0) {
                var counter=results[0];
                counter.fetchWhenSave(true); // get recent result
                counter.increment("time");
                counter.save();

                var time  = counter.get("time");
                $('#access-counter').text('访问 ' + time + ' 次');
            } else {
                var newcounter = new Counter();
                newcounter.set("title", title);
                newcounter.set("url", url);
                newcounter.set("time", 1);
                newcounter.save(null, {
                    success: function(newcounter){
                        //alert('New object created');
                    },
                    error: function(newcounter, error){
                        alert('Failed to create');
                    }
                });

                $('#access-counter').text('访问 1 次');
            }
        },
        error: function(error){
            //find null is not a error
            alert('Error:'+error.code+" "+error.message);
        }
    });
}

$(document).ready(function() {
    var Counter = AV.Object.extend("Counter");
    //only increse visit counting when intering a page
    if ($('.article-title').length == 1) {
       addCount(Counter);
    }

    // Top 10
    // var query = new AV.Query(Counter);
    // query.descending("time");
    // // the sum of popular posts
    // query.limit(10);
    // query.find({
    //     success: function(results) {
    //         for(var i=0; i<results.length; i++) {
    //             var counter = results[i];
    //             title = counter.get("title");
    //             url   = counter.get("url");
    //             time  = counter.get("time");
    //             // add to the popularlist widget
    //             showcontent = title+" ("+time+")";
    //             $('.popularlist').append('<li><a href="'+url+'">'+showcontent+'</a></li>');
    //         }
    //     },
    //     error: function(error){
    //         alert("Error:"+error.code+" "+error.message);
    //     }
    // });
});
</script>

  </div>
</body>
</html>
